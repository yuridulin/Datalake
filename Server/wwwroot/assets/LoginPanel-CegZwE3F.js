import{o as c,u as h,a as g,j as e,b as n,F as a,I as r,S as x,B as i,c as f,r as l,i as j,n as b}from"./index-C2xfSfQ4.js";const y=c(()=>{const t=h(),d=g(),u={width:"40em",padding:"5em"},m=s=>{f.usersAuthenticate({login:s.login,password:s.password}).then(o=>{o.status===200&&(n.setName(o.data.fullName),t(l.globalRoot),j())}).catch(()=>{b.err("Аутентификация не пройдена"),t(l.auth.loginPage)})},p=s=>{console.log("Failed:",s)};return e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:n.isDark()?"#121212":"#fff"},children:e.jsx("div",{style:u,children:e.jsxs(a,{name:"basic",labelCol:{span:8},wrapperCol:{span:16},style:{maxWidth:600},onFinish:m,onFinishFailed:p,autoComplete:"on",children:[e.jsx(a.Item,{label:"Имя учётной записи",name:"login",rules:[{required:!0,message:"Имя не введено"}],children:e.jsx(r,{name:"username",autoComplete:"username"})}),e.jsx(a.Item,{label:"Пароль",name:"password",rules:[{required:!0,message:"Пароль не введён"}],children:e.jsx(r.Password,{name:"password",autoComplete:"password"})}),e.jsx(a.Item,{wrapperCol:{offset:8,span:16},children:e.jsxs(x,{children:[e.jsx(i,{type:"primary",htmlType:"submit",children:"Вход"}),e.jsx(i,{onClick:()=>void d.signinRedirect(),children:"Вход через EnergoID"})]})})]})})})});export{y as default};
